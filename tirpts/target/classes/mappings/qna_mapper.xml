<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="QnaDAO">

	<select id="getQnaList" resultType="qna">
		SELECT * FROM QNA ORDER BY QNA_NUM DESC
	</select>

<!-- 	<resultMap type="#modelname" id="YourResultSet"> -->
<!-- 		<id property="param1" column="columnname1" /> -->
<!-- 		<result property="param2" column="columnname2" /> -->
<!-- 		<result property="param3" column="columnname3" /> -->
<!-- 	</resultMap> -->

	<select id="getQnaOne" resultType="qna">
		SELECT * FROM QNA WHERE QNA_NUM = #{qna_num}
	</select>

	<insert id="insertQna">
		INSERT INTO QNA
		(QNA_USER_ID, QNA_REGDATE , QNA_CONTENT, QNA_USER_EMAIL,QNA_ADMIN_ID,QNA_ANSWER ,QNA_ANSWER_DATE, QNA_VIEWS)
  		VALUES
  		(#{QNA_USER_ID}, NOW() , #{QNA_CONTENT}, #{QNA_USER_EMAIL},#{QNA_ADMIN_ID},#{QNA_ANSWER} ,NOW(), 0 )
	</insert>

	<update id="updateQna">
		UPDATE QNA
		SET
		QNA_CONTENT =#{qna_content}, QNA_ANSWER =#{qna_answer}
		WHERE
		QNA_NUM = #{qna_num}
	</update>

	<update id="updateQnaView">
		UPDATE QNA
		SET
		QNA_VIEWS = QNA_VIEWS+1
		WHERE
		QNA_NUM = #{qna_num}
	</update>

	<delete id="deleteQna">
		DELETE FROM QNA WHERE
		QNA_NUM = #{qna_num}
	</delete>

</mapper>
